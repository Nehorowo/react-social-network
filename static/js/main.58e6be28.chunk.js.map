{"version":3,"sources":["utils/validators/validators.js","redux/profileReducer.js","redux/dialogsReducer.js","api/api.js","components/Users/User/User.module.css","components/Navbar/Navbar.module.css","redux/sidebarReducer.js","redux/usersReducer.js","redux/authReducer.js","redux/appReducer.js","redux/redux-store.js","components/Navbar/Navbar.js","components/common/Paginator/Paginator.js","components/Users/User/User.js","components/Users/Users.js","redux/selectors/usersSelectors.js","components/Users/UsersContainer.js","components/Header/Header.js","components/Header/HeaderContainer.js","components/Login/Login.js","App.js","index.js","components/common/FormsControls/FormsControls.module.css","assets/images/spinner.gif","components/common/Preloader/Preloader.js","components/common/Paginator/Paginator.module.css","components/Header/Header.module.css","components/common/FormsControls/FormsControls.js"],"names":["required","value","maxLengthCreator","maxLength","length","ADD_POST","DELETE_POST","SET_USER_PROFILE","SET_STATUS","SAVE_PHOTO_SUCCESS","SAVE_PROFILE_SUCCESS","initialState","posts","id","message","likesCount","profile","status","addPostActionCreator","newPostText","type","setStatus","getUserProfile","userId","dispatch","a","usersAPI","response","data","getStatus","profileAPI","updateStatus","resultCode","savePhoto","file","photos","saveProfile","getState","auth","stopSubmit","_error","messages","Promise","reject","profileReducer","state","action","newPost","filter","p","postId","SEND_MESSAGE","dialogs","name","sendMessageCreator","newMessageBody","dialogsReducer","body","instance","axios","withCredentials","baseURL","headers","getUsers","currentPage","pageSize","get","then","follow","post","unfollow","delete","console","warn","put","formData","FormData","append","authAPI","me","login","email","password","rememberMe","logout","module","exports","sidebarReducer","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","FOLLOWING_IN_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","toggleIsFetching","toggleFollowing","followUnfollowFlow","usersId","apiMethod","actionCreator","usersReducer","map","u","followed","totalCount","SET_USER_DATA","isAuth","setAuthUserData","payload","getAuthUserData","authReducer","SET_INITIALIZED","initialized","appReducer","reducers","combineReducers","profilePage","messagesPage","sidebar","usersPage","app","form","formReducer","store","createStore","composeWithDevTools","applyMiddleware","thunkMiddleware","Navbar","className","cssObject","nav","navItem","to","activeClassName","activeLink","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","paginator","onClick","cn","selectedPage","pageNumber","e","User","user","src","small","userPhoto","alt","disabled","some","Users","props","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","getUsersList","createSelector","UsersContainer","setCurrentPage","this","Preloader","React","Component","compose","connect","bind","items","Header","header","avatar","loginBlock","HeaderContainer","LoginReduxForm","reduxForm","onSubmit","handleSubmit","Field","placeholder","component","Input","validate","error","style","formSummaryError","messsages","DialogsContainer","lazy","ProfileContainer","App","initializeApp","fallback","path","ReactDOM","render","document","getElementById","spinner","FormControl","input","meta","child","hasError","touched","formControl","children","Textarea","restProps"],"mappings":"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","file":"static/js/main.58e6be28.chunk.js","sourcesContent":["export const required = (value) => {\r\n  if (value) return undefined;\r\n  return \"Field is required!\";\r\n};\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n  if (value.length > maxLength) return `Max length is ${maxLength} symbols!`;\r\n  return undefined;\r\n};\r\n","import { usersAPI, profileAPI } from './../api/api';\r\nimport { stopSubmit } from 'redux-form';\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst DELETE_POST = 'DELETE-POST';\r\nconst SET_USER_PROFILE = 'SET-USER-PROFILE';\r\nconst SET_STATUS = 'SET-STATUS';\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE-PHOTO-SUCCESS';\r\nconst SAVE_PROFILE_SUCCESS = 'SAVE-PROFILE-SUCCESS';\r\n\r\nlet initialState = {\r\n  posts: [\r\n    { id: '1', message: 'salamakeikum', likesCount: 12 },\r\n    { id: '2', message: '$NOK is goos', likesCount: 11 },\r\n    { id: '3', message: 'go to the moon', likesCount: 11 },\r\n  ],\r\n  profile: null,\r\n  status: '',\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_POST: {\r\n      let newPost = {\r\n        id: 5,\r\n        message: action.newPostText,\r\n        likesCount: 0,\r\n      };\r\n\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, newPost],\r\n        newPostText: '',\r\n      };\r\n    }\r\n\r\n    case DELETE_POST: {\r\n      return { ...state, posts: state.posts.filter((p) => p.id !== action.postId) };\r\n    }\r\n\r\n    case SET_USER_PROFILE: {\r\n      return { ...state, profile: action.profile };\r\n    }\r\n    case SET_STATUS: {\r\n      return { ...state, status: action.status };\r\n    }\r\n\r\n    case SAVE_PHOTO_SUCCESS: {\r\n      return { ...state, profile: { ...state.profile, photos: action.photos } };\r\n    }\r\n\r\n    case SAVE_PROFILE_SUCCESS: {\r\n      return { ...state, profile: { ...state.profile } };\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const addPostActionCreator = (newPostText) => ({ type: ADD_POST, newPostText });\r\n\r\nexport const deletePostActionCreator = (postId) => ({ type: DELETE_POST, postId });\r\n\r\nexport const setUserProfile = (profile) => ({\r\n  type: SET_USER_PROFILE,\r\n  profile,\r\n});\r\n\r\nexport const setStatus = (status) => ({\r\n  type: SET_STATUS,\r\n  status,\r\n});\r\n\r\nexport const savePhotoSuccess = (photos) => ({ type: SAVE_PHOTO_SUCCESS, photos });\r\n\r\nexport const saveProfileSuccess = (profile) => ({ type: SAVE_PROFILE_SUCCESS, profile });\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n  const response = await usersAPI.getUserProfile(userId);\r\n  dispatch(setUserProfile(response.data));\r\n};\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n  const response = await profileAPI.getStatus(userId);\r\n  dispatch(setStatus(response.data));\r\n};\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n  const response = await profileAPI.updateStatus(status);\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setStatus(status));\r\n  }\r\n};\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n  const response = await profileAPI.savePhoto(file);\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(savePhotoSuccess(response.data.data.photos));\r\n  }\r\n};\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n  const userId = getState().auth.userId;\r\n  const response = await profileAPI.saveProfile(profile);\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(getUserProfile(userId));\r\n  } else {\r\n    dispatch(stopSubmit('editProfile', { _error: response.data.messages[0] })); // {\"contacts\": {\"facebook\": response.data.messages[0]}}\r\n    return Promise.reject(response.data.messages[0]);\r\n  }\r\n};\r\n\r\nexport default profileReducer;\r\n","const SEND_MESSAGE = \"SEND-MESSAGE\";\r\n\r\nlet initialState = {\r\n  dialogs: [\r\n    { id: \"1\", name: \"Dimych\" },\r\n    { id: \"2\", name: \"Sawka\" },\r\n    { id: \"3\", name: \"Olga\" },\r\n    { id: \"4\", name: \"Alex\" },\r\n  ],\r\n  messages: [\r\n    { id: \"1\", message: \"privet\" },\r\n    { id: \"2\", message: \"yoyo\" },\r\n    { id: \"3\", message: \"aloss\" },\r\n  ],\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SEND_MESSAGE:\r\n      let body = action.newMessageBody;\r\n      return {\r\n        ...state,\r\n        messages: [...state.messages, { id: 6, message: body }],\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({ type: SEND_MESSAGE, newMessageBody });\r\n\r\nexport default dialogsReducer;\r\n","import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n  withCredentials: true,\r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n  headers: {\r\n    'API-KEY': 'f3b49042-67cf-4fd1-86ed-11c24a7c438d',\r\n  },\r\n});\r\n\r\nexport const usersAPI = {\r\n  getUsers(currentPage, pageSize = 10) {\r\n    return instance\r\n      .get(`users?page=${currentPage}&count=${pageSize}`, {\r\n        withCredentials: true,\r\n      })\r\n      .then((response) => response.data);\r\n  },\r\n  follow(userId) {\r\n    return instance.post(`follow/${userId}`);\r\n  },\r\n  unfollow(userId) {\r\n    return instance.delete(`follow/${userId}`);\r\n  },\r\n  getUserProfile(userId) {\r\n    console.warn('Obsolete method. Please use profileAPI object');\r\n    return profileAPI.getUserProfile(userId);\r\n  },\r\n};\r\n\r\nexport const profileAPI = {\r\n  getUserProfile(userId) {\r\n    return instance.get(`profile/${userId}`);\r\n  },\r\n  getStatus(userId) {\r\n    return instance.get(`profile/status/` + userId);\r\n  },\r\n  updateStatus(status) {\r\n    return instance.put(`profile/status/`, { status: status });\r\n  },\r\n  savePhoto(file) {\r\n    const formData = new FormData();\r\n    formData.append('image', file);\r\n    return instance.put(`profile/photo/`, formData);\r\n  },\r\n  saveProfile(profile) {\r\n    return instance.put(`profile`, profile);\r\n  },\r\n};\r\n\r\nexport const authAPI = {\r\n  me() {\r\n    return instance.get(`auth/me`);\r\n  },\r\n  login(email, password, rememberMe = false) {\r\n    return instance.post(`auth/login`, { email, password, rememberMe });\r\n  },\r\n  logout() {\r\n    return instance.delete(`auth/login`);\r\n  },\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"User_userPhoto__3PI_f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__kjlFs\",\"navItem\":\"Navbar_navItem__2fBIf\",\"activeLink\":\"Navbar_activeLink__3kxWn\"};","let initialState = {};\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n  return state;\r\n};\r\nexport default sidebarReducer;\r\n","import { usersAPI } from \"./../api/api\";\r\n\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS = \"SET-USERS\";\r\nconst SET_CURRENT_PAGE = \"SET-CURRENT-PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"SET-TOTAL-USERS-COUNT\";\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE-IS-FETCHING\";\r\nconst FOLLOWING_IN_PROGRESS = \"FOLLOWING-IN-PROGRESS\";\r\n\r\nlet initialState = {\r\n  users: [],\r\n  pageSize: 10,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  followingInProgress: [],\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map((u) => {\r\n          if (u.id === action.userId) {\r\n            return { ...u, followed: true };\r\n          }\r\n          return u;\r\n        }),\r\n      };\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map((u) => {\r\n          if (u.id === action.userId) {\r\n            return { ...u, followed: false };\r\n          }\r\n          return u;\r\n        }),\r\n      };\r\n    case SET_USERS: {\r\n      return { ...state, users: action.users };\r\n    }\r\n    case SET_CURRENT_PAGE: {\r\n      return { ...state, currentPage: action.currentPage };\r\n    }\r\n    case SET_TOTAL_USERS_COUNT: {\r\n      return { ...state, totalUsersCount: action.totalCount };\r\n    }\r\n    case TOGGLE_IS_FETCHING: {\r\n      return { ...state, isFetching: action.isFetching };\r\n    }\r\n    case FOLLOWING_IN_PROGRESS: {\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching\r\n          ? [...state.followingInProgress, action.userId]\r\n          : state.followingInProgress.filter((id) => id !== action.userId),\r\n      };\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const followSuccess = (userId) => ({\r\n  type: FOLLOW,\r\n  userId,\r\n});\r\nexport const unfollowSuccess = (userId) => ({\r\n  type: UNFOLLOW,\r\n  userId,\r\n});\r\n\r\nexport const setUsers = (users) => ({ type: SET_USERS, users });\r\nexport const setCurrentPage = (currentPage) => ({\r\n  type: SET_CURRENT_PAGE,\r\n  currentPage,\r\n});\r\nexport const setTotalUsersCount = (totalCount) => ({\r\n  type: SET_TOTAL_USERS_COUNT,\r\n  totalCount,\r\n});\r\nexport const toggleIsFetching = (isFetching) => ({\r\n  type: TOGGLE_IS_FETCHING,\r\n  isFetching,\r\n});\r\nexport const toggleFollowing = (isFetching, userId) => ({\r\n  type: FOLLOWING_IN_PROGRESS,\r\n  isFetching,\r\n  userId,\r\n});\r\n\r\n// Redux-thunk\r\n// Фактически то же самое, что и getUsersThinkCreator = (... , ...) => { return (dispatch) => { ... } }\r\nexport const getUsers = (currentPage, pageSize) => async (dispatch) => {\r\n  dispatch(toggleIsFetching(true));\r\n\r\n  let data = await usersAPI.getUsers(currentPage, pageSize);\r\n  dispatch(toggleIsFetching(false));\r\n  dispatch(setUsers(data.items));\r\n  dispatch(setTotalUsersCount(data.totalCount));\r\n};\r\n\r\n//Follow-Unfollow\r\nconst followUnfollowFlow = async (dispatch, usersId, apiMethod, actionCreator) => {\r\n  dispatch(toggleFollowing(true, usersId));\r\n  let response = await apiMethod(usersId);\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(actionCreator(usersId));\r\n  }\r\n  dispatch(toggleFollowing(false, usersId));\r\n};\r\n\r\nexport const follow = (usersId) => async (dispatch) => {\r\n  followUnfollowFlow(dispatch, usersId, usersAPI.follow.bind(usersAPI), followSuccess);\r\n};\r\n\r\nexport const unfollow = (usersId) => async (dispatch) => {\r\n  followUnfollowFlow(dispatch, usersId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess);\r\n};\r\n\r\nexport default usersReducer;\r\n","import { authAPI } from '../api/api';\r\nimport { stopSubmit } from 'redux-form';\r\n\r\nconst SET_USER_DATA = 'SET-USER-DATA';\r\n\r\nlet initialState = {\r\n  userId: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA: {\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n  type: SET_USER_DATA,\r\n  payload: { userId, email, login, isAuth },\r\n});\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n  let response = await authAPI.me();\r\n\r\n  if (response.data.resultCode === 0) {\r\n    let { id, email, login } = response.data.data;\r\n    dispatch(setAuthUserData(id, email, login, true));\r\n  }\r\n};\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n  let response = await authAPI.login(email, password, rememberMe);\r\n\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(getAuthUserData());\r\n  } else {\r\n    let message = response.data.messsages.length > 0 ? response.data.messsages[0] : 'Some error';\r\n    dispatch(stopSubmit('login', { _error: message }));\r\n  }\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n  let response = await authAPI.logout();\r\n\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setAuthUserData(null, null, null, false));\r\n  }\r\n};\r\n\r\nexport default authReducer;\r\n","import { getAuthUserData } from \"./authReducer\";\r\n\r\nconst SET_INITIALIZED = \"SET-USER-DATA\";\r\nconst SET_INIT_SUCCESS = \"SET-INIT-SUCCESS\";\r\n\r\nlet initialState = {\r\n  initialized: false,\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_INITIALIZED: {\r\n      return {\r\n        ...state,\r\n        initialized: true,\r\n      };\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const setInitSuccess = () => ({ type: SET_INIT_SUCCESS });\r\n\r\nexport const initializeApp = () => async (dispatch) => {\r\n  await dispatch(getAuthUserData());\r\n\r\n  dispatch(setInitSuccess());\r\n};\r\n\r\nexport default appReducer;\r\n","import { createStore, combineReducers, applyMiddleware } from \"redux\";\r\nimport { composeWithDevTools } from \"remote-redux-devtools\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport dialogsReducer from \"./dialogsReducer\";\r\nimport sidebarReducer from \"./sidebarReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport appReducer from \"./appReducer\";\r\nimport { reducer as formReducer } from \"redux-form\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\n\r\nlet reducers = combineReducers({\r\n  profilePage: profileReducer,\r\n  messagesPage: dialogsReducer,\r\n  sidebar: sidebarReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n  app: appReducer,\r\n  form: formReducer,\r\n});\r\n\r\nconst store = createStore(\r\n  reducers,\r\n  /* preloadedState, */ composeWithDevTools(\r\n    applyMiddleware(thunkMiddleware)\r\n    // other store enhancers if any\r\n  )\r\n);\r\n\r\n//let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nexport default store;\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport cssObject from \"./Navbar.module.css\";\r\n\r\nconst Navbar = () => {\r\n  return (\r\n    <nav className={cssObject.nav}>\r\n      <div className={cssObject.navItem}>\r\n        <NavLink to=\"/profile\" activeClassName={cssObject.activeLink}>\r\n          Profile\r\n        </NavLink>\r\n      </div>\r\n      <div className={cssObject.navItem}>\r\n        <NavLink to=\"/users\" activeClassName={cssObject.activeLink}>\r\n          Users\r\n        </NavLink>\r\n      </div>\r\n      <div className={cssObject.navItem}>\r\n        <NavLink to=\"/dialogs\" activeClassName={cssObject.activeLink}>\r\n          Dialogs\r\n        </NavLink>\r\n      </div>\r\n      <div className={cssObject.navItem}>\r\n        <NavLink to=\"/news\">News</NavLink>\r\n      </div>\r\n      <div className={cssObject.navItem}>\r\n        <NavLink to=\"/music\">Music</NavLink>\r\n      </div>\r\n      <div className={cssObject.navItem}>\r\n        <NavLink to=\"/settings\">Settings</NavLink>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import React, { useState } from \"react\";\r\nimport styles from \"./Paginator.module.css\";\r\nimport cn from \"classnames\";\r\n\r\nlet Paginator = ({ totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10 }) => {\r\n  let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n  let pages = [];\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n\r\n  let portionCount = Math.ceil(pagesCount / portionSize);\r\n  let [portionNumber, setPortionNumber] = useState(1);\r\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n  let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n  return (\r\n    <div className={styles.paginator}>\r\n      {portionNumber > 1 && (\r\n        <button\r\n          onClick={() => {\r\n            setPortionNumber(portionNumber - 1);\r\n          }}>\r\n          PREV\r\n        </button>\r\n      )}\r\n\r\n      {pages\r\n        .filter((p) => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n        .map((p) => {\r\n          return (\r\n            <span\r\n              className={cn(\r\n                {\r\n                  [styles.selectedPage]: currentPage === p,\r\n                },\r\n                styles.pageNumber\r\n              )}\r\n              key={p}\r\n              onClick={(e) => {\r\n                onPageChanged(p);\r\n              }}>\r\n              {p}\r\n            </span>\r\n          );\r\n        })}\r\n      {portionCount > portionNumber && (\r\n        <button\r\n          onClick={() => {\r\n            setPortionNumber(portionNumber + 1);\r\n          }}>\r\n          NEXT\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Paginator;\r\n","import React from \"react\";\r\nimport styles from \"./User.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst User = ({ user, followingInProgress, unfollow, follow }) => {\r\n  return (\r\n    <div>\r\n      <span>\r\n        <div>\r\n          <NavLink to={\"/profile/\" + user.id}>\r\n            <img\r\n              src={user.photos.small != null ? user.photos.small : \"https://thispersondoesnotexist.com/image\"}\r\n              className={styles.userPhoto}\r\n              alt='userPhoto'\r\n            />\r\n          </NavLink>\r\n        </div>\r\n        <div>\r\n          {user.followed ? (\r\n            <button\r\n              disabled={followingInProgress.some((id) => id === user.id)}\r\n              onClick={() => {\r\n                unfollow(user.id);\r\n              }}>\r\n              Unfollow\r\n            </button>\r\n          ) : (\r\n            <button\r\n              onClick={() => {\r\n                follow(user.id);\r\n              }}>\r\n              Follow\r\n            </button>\r\n          )}\r\n        </div>\r\n      </span>\r\n      <span>\r\n        <span>\r\n          <div>{user.name}</div>\r\n          <div>{user.status}</div>\r\n        </span>\r\n        <span>\r\n          <div>{\"u.location.country\"}</div>\r\n          <div>{\"u.location.city\"}</div>\r\n        </span>\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default User;\r\n","import React from \"react\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User/User\";\r\n\r\nlet Users = ({ currentPage, totalUsersCount, pageSize, onPageChanged, users, ...props }) => {\r\n  return (\r\n    <div>\r\n      <Paginator\r\n        currentPage={currentPage}\r\n        onPageChanged={onPageChanged}\r\n        totalItemsCount={totalUsersCount}\r\n        pageSize={pageSize}\r\n      />\r\n      <div>\r\n        {users.map((u) => (\r\n          <User\r\n            user={u}\r\n            followingInProgress={props.followingInProgress}\r\n            key={u.id}\r\n            unfollow={props.unfollow}\r\n            follow={props.follow}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","import { createSelector } from \"reselect\";\r\n\r\nexport const getUsersListSelector = (state) => {\r\n  return state.usersPage.users;\r\n};\r\n\r\nexport const getPageSize = (state) => {\r\n  return state.usersPage.pageSize;\r\n};\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n  return state.usersPage.totalUsersCount;\r\n};\r\n\r\nexport const getCurrentPage = (state) => {\r\n  return state.usersPage.currentPage;\r\n};\r\n\r\nexport const getIsFetching = (state) => {\r\n  return state.usersPage.isFetching;\r\n};\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n  return state.usersPage.followingInProgress;\r\n};\r\n\r\nexport const getUsersList = createSelector(getUsersListSelector, (users) => {\r\n  return users.filter((u) => true);\r\n});\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { follow, unfollow, setCurrentPage, toggleFollowing, getUsers } from \"../../redux/usersReducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport { compose } from \"redux\";\r\nimport {\r\n  getPageSize,\r\n  getUsersList,\r\n  getTotalUsersCount,\r\n  getCurrentPage,\r\n  getIsFetching,\r\n  getFollowingInProgress,\r\n} from \"../../redux/selectors/usersSelectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n  componentDidMount() {\r\n    this.props.getUsers(this.props.currentPage, this.props.pageSize);\r\n  }\r\n\r\n  onPageChanged = (pageNumber) => {\r\n    this.props.getUsers(pageNumber, this.props.pageSize);\r\n    this.props.setCurrentPage(pageNumber);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.props.isFetching ? <Preloader /> : null}\r\n        <Users\r\n          totalUsersCount={this.props.totalUsersCount}\r\n          pageSize={this.props.pageSize}\r\n          currentPage={this.props.currentPage}\r\n          onPageChanged={this.onPageChanged}\r\n          users={this.props.users}\r\n          follow={this.props.follow}\r\n          unfollow={this.props.unfollow}\r\n          toggleFollowing={this.props.toggleFollowing}\r\n          followingInProgress={this.props.followingInProgress}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    users: getUsersList(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state),\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    follow,\r\n    unfollow,\r\n    setCurrentPage,\r\n    toggleFollowing,\r\n    getUsers,\r\n  })\r\n)(UsersContainer);\r\n","import React from \"react\";\r\nimport cssObject from \"./Header.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n  return (\r\n    <header className={cssObject.header}>\r\n      <div className={cssObject.avatar}>\r\n        <img\r\n          src=\"https://sun9-56.userapi.com/NfPoY1Rr_ZMhE6LRQ4OD95THzrG-CcEg-l5xDA/qYFQMBAZKew.jpg\"\r\n          alt=\"mainImage\"\r\n        />\r\n      </div>\r\n      <div className={cssObject.loginBlock}>\r\n        {props.isAuth ? (\r\n          <div>\r\n            {props.login} - <button onClick={props.logout}>Logout</button>\r\n          </div>\r\n        ) : (\r\n          <NavLink to={\"/login\"}>Login</NavLink>\r\n        )}\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport { connect } from \"react-redux\";\r\nimport { logout } from \"./../../redux/authReducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n  render() {\r\n    return <Header {...this.props} />;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login,\r\n});\r\nexport default connect(mapStateToProps, { logout })(HeaderContainer);\r\n","import React from \"react\";\r\nimport { reduxForm, Field } from \"redux-form\";\r\nimport { required } from \"../../utils/validators/validators\";\r\nimport { Input } from \"../common/FormsControls/FormsControls\";\r\nimport { connect } from \"react-redux\";\r\nimport { login } from \"../../redux/authReducer\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport style from \"../common/FormsControls/FormsControls.module.css\";\r\n\r\nconst LoginForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <div>\r\n        <Field\r\n          placeholder=\"email\"\r\n          name=\"email\"\r\n          component={Input}\r\n          type=\"text\"\r\n          validate={[required]}\r\n        />\r\n      </div>\r\n      <div>\r\n        <Field\r\n          placeholder=\"password\"\r\n          name=\"password\"\r\n          component={Input}\r\n          type=\"password\"\r\n          validate={[required]}\r\n        />\r\n      </div>\r\n      <div>\r\n        <Field name=\"rememberMe\" component=\"input\" type=\"checkbox\" />\r\n        Remember me\r\n      </div>\r\n      {props.error && (\r\n        <div className={style.formSummaryError}>{props.error}</div>\r\n      )}\r\n      <div>\r\n        <button>Sign in</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({\r\n  form: \"login\",\r\n})(LoginForm);\r\n\r\nconst Login = (props) => {\r\n  const onSubmit = (formData) => {\r\n    props.login(formData.email, formData.password, formData.rememberMe);\r\n  };\r\n  if (props.isAuth) {\r\n    return <Redirect to={\"/profile\"} />;\r\n  }\r\n  return (\r\n    <div>\r\n      <h1>Login</h1>\r\n      <LoginReduxForm onSubmit={onSubmit} />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n});\r\n\r\nexport default connect(mapStateToProps, { login })(Login);\r\n","import React, { Suspense } from 'react';\r\nimport './App.css';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport UsersContainer from './components/Users/UsersContainer';\r\nimport { Route, HashRouter } from 'react-router-dom';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport LoginPage from './components/Login/Login';\r\nimport { connect } from 'react-redux';\r\nimport { initializeApp } from './redux/appReducer';\r\nimport Preloader from './components/common/Preloader/Preloader';\r\n\r\n//Lazy loading\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\n\r\nclass App extends React.Component {\r\n  componentDidMount() {\r\n    this.props.initializeApp();\r\n  }\r\n  render() {\r\n    // if (!this.props.initialized) {\r\n    //   return <Preloader />;\r\n    // }\r\n    return (\r\n      <div className=\"app-wrapper\">\r\n        <HashRouter>\r\n          <HeaderContainer />\r\n          <Navbar />\r\n          <Suspense fallback={<Preloader />}>\r\n            <Route path=\"/dialogs\">\r\n              <DialogsContainer />\r\n            </Route>\r\n            <Route path=\"/profile/:userId?\">\r\n              <ProfileContainer />\r\n            </Route>\r\n          </Suspense>\r\n          <Route path=\"/users\">\r\n            <UsersContainer />\r\n          </Route>\r\n          <Route path=\"/login\">\r\n            <LoginPage />\r\n          </Route>\r\n        </HashRouter>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({ initialized: state.app.initialized });\r\n\r\nexport default connect(mapStateToProps, { initializeApp })(App);\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport store from \"./redux/redux-store\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport { Provider } from \"react-redux\";\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__2Di-j\",\"error\":\"FormsControls_error__P0HY3\",\"formSummaryError\":\"FormsControls_formSummaryError__2CvHQ\"};","export default __webpack_public_path__ + \"static/media/spinner.4c0dabf6.gif\";","import React from \"react\";\r\nimport spinner from \"../../../assets/images/spinner.gif\";\r\n\r\nconst Preloader = () => {\r\n  return (\r\n    <div>\r\n      <img src={spinner} alt=\"spinner\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Preloader;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__2ZWd0\",\"pageNumber\":\"Paginator_pageNumber__3CkpH\",\"selectedPage\":\"Paginator_selectedPage__2Plf8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3v0GG\",\"avatar\":\"Header_avatar__1P8GD\",\"loginBlock\":\"Header_loginBlock__1KgEL\"};","import React from \"react\";\r\nimport styles from \"./FormsControls.module.css\";\r\n\r\nexport const FormControl = ({ input, meta, child, ...props }) => {\r\n  const hasError = meta.touched && meta.error;\r\n  return (\r\n    <div className={styles.formControl + \" \" + (hasError ? styles.error : \"\")}>\r\n      <div>{props.children}</div>\r\n      {hasError && <span>{meta.error}</span>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const Textarea = (props) => {\r\n  const { input, meta, child, ...restProps } = props;\r\n  return (\r\n    <FormControl {...props}>\r\n      <textarea {...input} {...restProps} />\r\n    </FormControl>\r\n  );\r\n};\r\n\r\nexport const Input = (props) => {\r\n  const { input, meta, child, ...restProps } = props;\r\n  return (\r\n    <FormControl {...props}>\r\n      <input {...input} {...restProps} />\r\n    </FormControl>\r\n  );\r\n};\r\n"],"sourceRoot":""}